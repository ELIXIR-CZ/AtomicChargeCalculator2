<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ChargeCompute</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          crossorigin="anonymous">
</head>

<body>
<div class="container p-3">
    <div class="d-none mt-5 d-lg-block"></div>
    <form method=post enctype=multipart/form-data>
        <div class="row">
            <div class="col">
                <h1 style="margin-bottom: 30px">ChargeCompute</h1>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col">
                <h2>Computation settings</h2>
                <div class="form-text text-muted">
                    Note that the list of methods and parameters shows only suitable combinations for given input
                    structures.
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-md-6">
                <div class="form-group">
                    <label class="font-weight-bold" for="method_selection">Method</label>
                    <select class="form-control" name="method_select" id="method_selection" style="width:auto;">
                        <optgroup label="3D" id="optgroup3D">
                        </optgroup>
                        <optgroup label="2D" id="optgroup2D">
                        </optgroup>
                    </select>
                </div>
            </div>
            <div class="col-12 col-md-6">
                <label class="font-weight-bold">Full name</label>
                <div id="method_name"></div>
                <label class="font-weight-bold">Publication</label>
                <div id="method_paper"></div>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-12 col-md-6">
                <div class="form-group">
                    <label class="font-weight-bold" for="parameters_selection">Parameters</label>
                    <select class="form-control" name="parameters_select" id="parameters_selection" style="width:auto;">
                    </select>
                </div>
            </div>
            <div class="col-12 col-md-6">
                <label class="font-weight-bold" id="parameters_paper_label">Publication</label>
                <div id="parameters_paper"></div>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col">
                <button type="submit" class="btn btn-primary" id="calculate">Compute</button>
            </div>
        </div>
    </form>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-danger mt-1 alert-dismissible fade show" role="alert">{{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <hr>
    <p style="text-align: center">
        <img src="{{ url_for('static', filename='elixirlogo.png') }}" alt="ELIXIR logo"
             style="height: 70px"><br>
        <small>
            ChargeCompute is a part of services provided by <a href="https://www.elixir-czech.cz/" target="_blank">ELIXIR</a>
            –
            European research infrastructure for biological information.
            For other services provided by ELIXIR's Czech Republic Node visit <a
                href="https://www.elixir-czech.cz/services" target="_blank">www.elixir-czech.cz/services</a>.
        </small>
    </p>
    <hr>
    <p style="text-align: justify">
        <small>
            Licence conditions in accordance with § 11 of Act No. 130/2002 Coll. The owner of the software is Masaryk
            University, a public university, ID: 00216224. Masaryk University allows other companies and individuals to
            use this software free of charge and without territorial restrictions in usual way, that does not depreciate
            its value. This permission is granted for the duration of property rights. This software is not subject to
            special information treatment according to Act No. 412/2005 Coll., as amended. In case that a person who
            will use the software under this licence offer violates the licence terms, the permission to use the
            software terminates.
        </small>
    </p>

    <hr>
    <footer>
        <p style="text-align: right; color: gray">
            <small>© 2019 Tomáš Raček | <a href="https://webchem.ncbr.muni.cz/Platform/Home/TermsOfUse">Terms of Use
                &amp; GDPR</a></small>
        </p>
        <br>
    </footer>
</div>


<script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

<script>
    const method_data = $.parseJSON('{{ methods | tojson | safe }}');
    const parameter_data = $.parseJSON('{{ parameters | tojson | safe }}');
    const suitable_methods = $.parseJSON('{{ suitable_methods | tojson | safe }}');
    const suitable_parameters = $.parseJSON('{{ suitable_parameters | tojson | safe }}');
</script>
<script src="{{ url_for('static', filename='main.js') }}"></script>

</body>
</html>
